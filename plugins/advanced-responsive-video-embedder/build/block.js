!function(){"use strict";var e={n:function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(l,{a:l}),l},d:function(t,l){for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.i18n,l=window.wp.serverSideRender,n=e.n(l),a=window.wp.element,r=window.wp.blockEditor,i=window.wp.components;const o=window.ARVEsettings,s=window.wp,c=new DOMParser;function u(e){const t=[];return Object.entries(e).forEach((e=>{let[l,n]=e;const a={label:n,value:l};t.push(a)})),t}function d(e){if("string"!=typeof e.description)return"";if("string"==typeof e.descriptionlinktext){const t=e.description.split(e.descriptionlinktext);return(0,a.createElement)("span",null,(0,a.createElement)("span",null,t[0]),(0,a.createElement)("a",{href:e.descriptionlink},e.descriptionlinktext),",",(0,a.createElement)("span",null,t[1]))}return e.description}function p(e,t){const l=m(e,t);return e/l+":"+t/l}function m(e,t){return t?m(t,e%t):e}s.blocks.registerBlockType("nextgenthemes/arve-block",{title:"Video Embed (ARVE)",description:"You can disable help texts on the ARVE settings page to clean up the UI",icon:"video-alt3",category:"embed",supports:{AlignWide:!0,align:["left","right","center","wide","full"]},edit:e=>{const l=function(e){const l=[],n={},s=(0,a.createElement)("p",null,(0,t.__)("To edit the featured image, you need permission to upload media."));let m=!1;Object.values(o).forEach((e=>{n[e.tag]=[]})),Object.entries(o).forEach((l=>{let[o,b]=l,h=e.attributes[o],g="";switch(b.type){case"boolean":"sandbox"===o&&void 0===h&&(h=!0),n[b.tag].push((0,a.createElement)(i.ToggleControl,{key:o,label:b.label,help:d(b),checked:!!h,onChange:t=>e.setAttributes({[o]:t})}));break;case"select":n[b.tag].push((0,a.createElement)(i.SelectControl,{key:o,value:h,label:b.label,help:d(b),options:u(b.options),onChange:t=>e.setAttributes({[o]:t})}));break;case"string":n[b.tag].push((0,a.createElement)(i.TextControl,{key:o,label:b.label,placeholder:b.placeholder,help:d(b),value:h,onChange:t=>(function(e,t,l){if("url"===e){const e=c.parseFromString(t,"text/html").querySelector("iframe");if(e&&e.getAttribute("src")){t=e.src;const n=e.width,a=e.height;n&&a&&l.setAttributes({aspect_ratio:p(n,a)})}}}(o,t,e),e.setAttributes({[o]:t}))}));break;case"attachment_old":g=e.attributes[o+"_url"],n[b.tag].push((0,a.createElement)("div",null,(0,a.createElement)(r.MediaUploadCheck,null,(0,a.createElement)(r.MediaUpload,{onSelect:t=>e.setAttributes({[o]:t.id.toString(),[o+"_url"]:t.url}),allowedTypes:"image",render:e=>{let{open:l}=e;return(0,a.createElement)(i.Button,{className:"components-button--arve-thumbnail",onClick:l,"aria-label":(0,t.__)("Edit or update the image")},!!g&&(0,a.createElement)("div",null,(0,a.createElement)("img",{src:g,alt:(0,t.__)("Selected Thumbnail")})),(0,t.__)("Edit or update the image"))}})),!!h&&(0,a.createElement)(i.Button,{onClick:()=>e.setAttributes({[o]:"",[o+"_url"]:""})},(0,t.__)("Remove Custom Thumbnail")),(0,a.createElement)(i.TextControl,{label:b.label,placeholder:b.placeholder,help:d(b),value:h,onChange:t=>e.setAttributes({[o]:t})})));break;case"attachment":g=e.attributes[o+"_url"],n[b.tag].push((0,a.createElement)("div",{className:"editor-post-featured-image"},(0,a.createElement)(r.MediaUploadCheck,{fallback:s},(0,a.createElement)(r.MediaUpload,{title:(0,t.__)("Thumbnail"),onSelect:t=>(m=t,e.setAttributes({[o]:t.id.toString(),[o+"_url"]:t.url})),unstableFeaturedImageFlow:!0,allowedTypes:"Image",modalClass:"editor-post-featured-image__media-modal",render:e=>{let{open:l}=e;return(0,a.createElement)("div",{className:"editor-post-featured-image__container"},(0,a.createElement)(i.Button,{className:h?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:l,"aria-describedby":h?`editor-post-featured-image-${h}-describedby`:""},!!h&&!!g&&(0,a.createElement)(i.ResponsiveWrapper,{naturalWidth:640,naturalHeight:380},(0,a.createElement)("img",{src:g,alt:""})),!h&&(0,t.__)("Set Thumbnail")),(0,a.createElement)(i.DropZone,null))},value:h})),!!h&&!!g&&(0,a.createElement)(r.MediaUploadCheck,null,(0,a.createElement)(r.MediaUpload,{title:(0,t.__)("Thumbnail"),onSelect:t=>(m=t,e.setAttributes({[o]:t.id.toString(),[o+"_url"]:t.url})),unstableFeaturedImageFlow:!0,allowedTypes:"image",modalClass:"editor-post-featured-image__media-modal",render:e=>{let{open:l}=e;return(0,a.createElement)(i.Button,{onClick:l,isSecondary:!0},(0,t.__)("Replace Thumbnail"))}})),!!h&&(0,a.createElement)(r.MediaUploadCheck,null,(0,a.createElement)(i.Button,{onClick:()=>e.setAttributes({[o]:"",[o+"_url"]:""}),isLink:!0,isDestructive:!0},(0,t.__)("Remove Thumbnail"))),(0,a.createElement)(i.TextControl,{label:b.label,placeholder:b.placeholder,help:d(b),value:h,onChange:t=>e.setAttributes({[o]:t})})))}}));let b=!0;return Object.keys(n).forEach((e=>{var t;l.push((0,a.createElement)(i.PanelBody,{key:e,title:(t=e,t.charAt(0).toUpperCase()+t.slice(1)),initialOpen:b},n[e])),b=!1})),l}(e);return[(0,a.createElement)(n(),{key:"ssr",block:"nextgenthemes/arve-block",attributes:e.attributes}),(0,a.createElement)(r.InspectorControls,{key:"insp"},l)]},save:()=>null})}();