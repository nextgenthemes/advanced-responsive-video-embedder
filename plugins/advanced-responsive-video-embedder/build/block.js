!function(){"use strict";var e={n:function(t){var l=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(l,{a:l}),l},d:function(t,l){for(var a in l)e.o(l,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:l[a]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.i18n,l=window.wp.serverSideRender,a=e.n(l),n=window.wp.element,r=window.wp.blockEditor,i=window.wp.components;const o=window.ARVEsettings,s=window.wp,c=new DOMParser;function u(e){const t=[];return Object.entries(e).forEach((([e,l])=>{const a={label:l,value:e};t.push(a)})),t}function d(e){if("string"!=typeof e.description)return"";if("string"==typeof e.descriptionlinktext){const t=e.description.split(e.descriptionlinktext);return(0,n.createElement)("span",null,(0,n.createElement)("span",null,t[0]),(0,n.createElement)("a",{href:e.descriptionlink},e.descriptionlinktext),",",(0,n.createElement)("span",null,t[1]))}return e.description}function p(e,t){const l=m(e,t);return e/l+":"+t/l}function m(e,t){return t?m(t,e%t):e}s.blocks.registerBlockType("nextgenthemes/arve-block",{title:"Video Embed (ARVE)",description:"You can disable help texts on the ARVE settings page to clean up the UI",icon:"video-alt3",category:"embed",supports:{AlignWide:!0,align:["left","right","center","wide","full"]},edit:e=>{const l=function(e){const l=[],a={},s=(0,n.createElement)("p",null,(0,t.__)("To edit the featured image, you need permission to upload media."));let m=!1;Object.values(o).forEach((e=>{a[e.tag]=[]})),Object.entries(o).forEach((([l,o])=>{let b=e.attributes[l],h="";switch(o.type){case"boolean":"sandbox"===l&&void 0===b&&(b=!0),a[o.tag].push((0,n.createElement)(i.ToggleControl,{key:l,label:o.label,help:d(o),checked:!!b,onChange:t=>e.setAttributes({[l]:t})}));break;case"select":a[o.tag].push((0,n.createElement)(i.SelectControl,{key:l,value:b,label:o.label,help:d(o),options:u(o.options),onChange:t=>e.setAttributes({[l]:t})}));break;case"string":a[o.tag].push((0,n.createElement)(i.TextControl,{key:l,label:o.label,placeholder:o.placeholder,help:d(o),value:b,onChange:t=>(function(e,t,l){if("url"===e){const e=c.parseFromString(t,"text/html").querySelector("iframe");if(e&&e.getAttribute("src")){t=e.src;const a=e.width,n=e.height;a&&n&&l.setAttributes({aspect_ratio:p(a,n)})}}}(l,t,e),e.setAttributes({[l]:t}))}));break;case"attachment_old":h=e.attributes[l+"_url"],a[o.tag].push((0,n.createElement)("div",null,(0,n.createElement)(r.MediaUploadCheck,null,(0,n.createElement)(r.MediaUpload,{onSelect:t=>e.setAttributes({[l]:t.id.toString(),[l+"_url"]:t.url}),allowedTypes:"image",render:({open:e})=>(0,n.createElement)(i.Button,{className:"components-button--arve-thumbnail",onClick:e,"aria-label":(0,t.__)("Edit or update the image")},!!h&&(0,n.createElement)("div",null,(0,n.createElement)("img",{src:h,alt:(0,t.__)("Selected Thumbnail")})),(0,t.__)("Edit or update the image"))})),!!b&&(0,n.createElement)(i.Button,{onClick:()=>e.setAttributes({[l]:"",[l+"_url"]:""})},(0,t.__)("Remove Custom Thumbnail")),(0,n.createElement)(i.TextControl,{label:o.label,placeholder:o.placeholder,help:d(o),value:b,onChange:t=>e.setAttributes({[l]:t})})));break;case"attachment":h=e.attributes[l+"_url"],a[o.tag].push((0,n.createElement)("div",{className:"editor-post-featured-image"},(0,n.createElement)(r.MediaUploadCheck,{fallback:s},(0,n.createElement)(r.MediaUpload,{title:(0,t.__)("Thumbnail"),onSelect:t=>(m=t,e.setAttributes({[l]:t.id.toString(),[l+"_url"]:t.url})),unstableFeaturedImageFlow:!0,allowedTypes:"Image",modalClass:"editor-post-featured-image__media-modal",render:({open:e})=>(0,n.createElement)("div",{className:"editor-post-featured-image__container"},(0,n.createElement)(i.Button,{className:b?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:e,"aria-describedby":b?`editor-post-featured-image-${b}-describedby`:""},!!b&&!!h&&(0,n.createElement)(i.ResponsiveWrapper,{naturalWidth:640,naturalHeight:380},(0,n.createElement)("img",{src:h,alt:""})),!b&&(0,t.__)("Set Thumbnail")),(0,n.createElement)(i.DropZone,null)),value:b})),!!b&&!!h&&(0,n.createElement)(r.MediaUploadCheck,null,(0,n.createElement)(r.MediaUpload,{title:(0,t.__)("Thumbnail"),onSelect:t=>(m=t,e.setAttributes({[l]:t.id.toString(),[l+"_url"]:t.url})),unstableFeaturedImageFlow:!0,allowedTypes:"image",modalClass:"editor-post-featured-image__media-modal",render:({open:e})=>(0,n.createElement)(i.Button,{onClick:e,isSecondary:!0},(0,t.__)("Replace Thumbnail"))})),!!b&&(0,n.createElement)(r.MediaUploadCheck,null,(0,n.createElement)(i.Button,{onClick:()=>e.setAttributes({[l]:"",[l+"_url"]:""}),isLink:!0,isDestructive:!0},(0,t.__)("Remove Thumbnail"))),(0,n.createElement)(i.TextControl,{label:o.label,placeholder:o.placeholder,help:d(o),value:b,onChange:t=>e.setAttributes({[l]:t})})))}}));let b=!0;return Object.keys(a).forEach((e=>{var t;l.push((0,n.createElement)(i.PanelBody,{key:e,title:(t=e,t.charAt(0).toUpperCase()+t.slice(1)),initialOpen:b},a[e])),b=!1})),l}(e);return[(0,n.createElement)(a(),{key:"ssr",block:"nextgenthemes/arve-block",attributes:e.attributes}),(0,n.createElement)(r.InspectorControls,{key:"insp"},l)]},save:()=>null})}();