(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var i in r)e.o(r,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"nextgenthemes/arve-block","title":"Video Embed (ARVE)","category":"embed","icon":"video-alt3","description":"Advanced Responsive Video Embedder","keywords":["embed","youtube","rumble","vimeo","odysee"],"version":"10.8.3","textdomain":"advanced-responsive-video-embedder","supports":{"align":["wide","full","left","right"],"className":true,"customClassName":true},"example":{"attributes":{"url":"https://www.youtube.com/watch?v=oe452WcY7fA","title":"Example ARVE Video"}},"editorScript":"file:./index.js","editorStyle":["file:./index.css","arve","arve-pro","arve-sticky-videos","arve-random-video"],"viewScript":["arve","arve-pro","arve-sticky-videos","arve-random-video"],"viewScriptModule":["arve","arve-pro","arve-sticky-videos","arve-random-video"],"viewStyle":["arve","arve-pro","arve-sticky-videos","arve-random-video"],"attributes":{"url":{"type":"string"},"thumbnail":{"type":"string"},"mode":{"type":"string"},"grow":{"type":"string"},"lazyload_style":{"type":"string"},"hover_effect":{"type":"string"},"hide_title":{"type":"string"},"play_icon_style":{"type":"string"},"fullscreen":{"type":"string"},"lightbox_maxwidth":{"type":"integer"},"lightbox_aspect_ratio":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"upload_date":{"type":"string"},"duration":{"type":"string"},"loop":{"type":"boolean"},"muted":{"type":"boolean"},"controls":{"type":"string"},"parameters":{"type":"string"},"controlslist":{"type":"string"},"autoplay":{"type":"string"},"disable_links":{"type":"string"},"credentialless":{"type":"boolean"},"invidious":{"type":"string"},"encrypted_media":{"type":"boolean"},"sticky":{"type":"string"},"sticky_on_mobile":{"type":"string"},"sticky_position":{"type":"string"},"volume":{"type":"integer"},"arve_link":{"type":"string"},"random_video_url":{"type":"string"},"random_video_urls":{"type":"string"},"align":{"type":"string"},"aspect_ratio":{"type":"string"},"thumbnail_url":{"type":"string"}}}'),r=window.wp.blockEditor,i=window.wp.serverSideRender;var n=e.n(i);function o(e){var t,r,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=o(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}const a=function(){for(var e,t,r=0,i="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=o(e))&&(i&&(i+=" "),i+=t);return i},s=window.wp.i18n,l=window.wp.components,d=window.ReactJSXRuntime,c=({className:e,sKey:t,val:i,url:n,help:o,setAttributes:c})=>{const p=(0,d.jsx)("p",{children:(0,s.__)("To edit the featured image, you need permission to upload media.")}),u=a("editor-post-featured-image__container",e),v=e=>{c({[t]:e.id.toString(),[`${t}_url`]:e.url||""})};return(0,d.jsxs)(l.BaseControl,{className:"editor-post-featured-image",help:o,children:[(0,d.jsx)(r.MediaUploadCheck,{fallback:p,children:(0,d.jsx)(r.MediaUpload,{title:(0,s.__)("Thumbnail"),onSelect:v,allowedTypes:["image"],modalClass:"editor-post-featured-image__media-modal",render:({open:e})=>(e=>(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)(l.Button,{className:i?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:e,"aria-label":i?(0,s.__)("Edit or update the image"):void 0,"aria-describedby":i?`editor-post-featured-image-${i}-describedby`:"",children:i&&n?(0,d.jsx)("div",{style:{width:"100%",overflow:"hidden"},children:(0,d.jsx)("img",{src:n,alt:"ARVE Thumbnail",style:{width:"100%",objectFit:"cover",aspectRatio:"16/9"}})}):(0,d.jsx)("span",{children:(0,s.__)("Set Thumbnail")})}),(0,d.jsx)(l.DropZone,{})]}))(e),value:i})}),!!i&&!!n&&(0,d.jsx)(r.MediaUploadCheck,{children:(0,d.jsx)(r.MediaUpload,{title:(0,s.__)("Thumbnail"),onSelect:v,allowedTypes:["image"],modalClass:"editor-post-featured-image__media-modal",render:({open:e})=>(0,d.jsx)(l.Button,{onClick:e,variant:"secondary",children:(0,s.__)("Replace Thumbnail")})})},`${t}-MediaUploadCheck-2`),!!i&&(0,d.jsx)(r.MediaUploadCheck,{children:(0,d.jsx)(l.Button,{onClick:()=>{c({[t]:"",[`${t}_url`]:""})},isDestructive:!0,children:(0,s.__)("Remove Thumbnail")})},`${t}-MediaUploadCheck-3`)]})},p=function({label:e,value:t,onChange:r,onAspectRatioChange:i,placeholder:n,help:o}){return(0,d.jsx)(l.TextControl,{label:e,value:t,onChange:e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector("iframe");if(t?.src){const e=t.getAttribute("src")||"";if(r(e),t.width&&t.height){const e=function(e,t){const r=e=>/^[1-9]\d*$/.test(e);if(!r(e)||!r(t))return;const i=parseInt(e,10),n=parseInt(t,10),o=(e,t)=>0===t?e:o(t,e%t),a=o(i,n);return`${i/a}:${n/a}`}(t.width,t.height);e&&"16:9"!==e&&i(e)}return}r(e)},placeholder:n,help:o,type:"text"})},{settingPageUrl:u,options:v,settings:h,gutenbergActive:m}=window.ArveBlockJsBefore,{gutenberg_help:g}=v;function b(e){if(!g||!e)return;if(!e.match(/<a/i))return e;const t=(new DOMParser).parseFromString(e,"text/html"),r=[];let i=1;const n=e=>{if(e.nodeType===Node.TEXT_NODE){const t=e.textContent;null!=t&&r.push(t)}else if(e.nodeType===Node.ELEMENT_NODE){const t=e;if("A"===t.tagName){const e=t,n=e.textContent||"";return r.push((0,d.jsx)("a",{href:e.href,target:"_blank",rel:"noreferrer",children:n},"link-"+i)),void i++}Array.from(t.childNodes).forEach(n)}};return n(t.body),(0,d.jsx)(d.Fragment,{children:r})}function _({attributes:e,setAttributes:t}){const r=[],i={};Object.values(h).forEach(e=>{i[e.category]=[]}),Object.entries(h).forEach(([r,n])=>{const o=e[r],a=e[`${r}_url`]||"",u=n.category||"no-category";var v;if(!function(e,t){if("align"===e)return!0;const r=h[e];return!!r?.depends?.length&&!r.depends.some(e=>{const[r,i]=Object.entries(e)[0]||[];return!t[r]||void 0!==r&&t[r]===i})}(r,e))if(function(e,t){const r=Object.keys(e);return r.length===t.length&&t.every(e=>r.includes(e))}(n.options||{},["","true","false"]))i[u].push((0,d.jsxs)(l.__experimentalToggleGroupControl,{label:n.label,value:o||"",isBlock:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,onChange:e=>t({[r]:e}),help:b(n.description),children:[(0,d.jsx)(l.__experimentalToggleGroupControlOption,{value:"",label:(0,s.__)("Default","advanced-responsive-video-embedder")}),(0,d.jsx)(l.__experimentalToggleGroupControlOption,{value:"true",label:(0,s.__)("True","advanced-responsive-video-embedder")}),(0,d.jsx)(l.__experimentalToggleGroupControlOption,{value:"false",label:(0,s.__)("False","advanced-responsive-video-embedder")})]},r));else if("url"===r)i[u].push((0,d.jsx)(p,{label:n.label,value:o||"",onChange:e=>t({[r]:e}),onAspectRatioChange:e=>t({aspect_ratio:e}),placeholder:n.placeholder,help:b(n.description)},r));else if("image_upload"===n.ui)i[u].push((0,d.jsx)(c,{sKey:r,className:`arve-ctl-${n.tab}`,val:o||void 0,url:a,help:b(n.description),setAttributes:t},r));else if("select"===n.ui_element){const e=(v=n.options,Object.entries(v).map(([e,t])=>({label:t,value:e})));i[u].push((0,d.jsx)(l.SelectControl,{className:`arve-ctl-${n.tab}`,label:n.label,value:o,options:e,onChange:e=>t({[r]:e}),help:b(n.description)},r))}else"checkbox"===n.ui_element_type?i[u].push((0,d.jsx)(l.ToggleControl,{className:`arve-ctl-${n.tab}`,label:n.label,checked:Boolean(o),onChange:e=>t({[r]:e}),help:b(n.description)},r)):i[u].push((0,d.jsx)(l.TextControl,{className:`arve-ctl-${n.tab}`,label:n.label,type:n.ui_element_type,value:o||"",placeholder:n.placeholder,onChange:e=>t({[r]:e}),help:b(n.description)},r))}),(g||m)&&i.main.push((0,d.jsx)(l.BaseControl,{help:(0,d.jsxs)(d.Fragment,{children:[g&&(0,d.jsxs)(d.Fragment,{children:[(0,s.__)("Remember changing the defaults is possible on the","advanced-responsive-video-embedder")," ",(0,d.jsx)("a",{href:u,target:"_blank",rel:"noreferrer",children:(0,s.__)("Settings page","advanced-responsive-video-embedder")}),". ",(0,s.__)("You can also disable the extensive help texts there to clean up this UI.","advanced-responsive-video-embedder")]}),m&&(0,d.jsxs)(d.Fragment,{children:[" ",(0,s.__)("Error 153 in YouTube embeds, is a known issue with the Gutenberg plugin active and effects only the editor and normal mode. Your Videos will work fine on the front-end. Lazyload is not effected.","advanced-responsive-video-embedder")]})]}),children:(0,d.jsx)(l.BaseControl.VisualLabel,{children:(0,s.__)("Info","advanced-responsive-video-embedder")})},"info-panel"));const n={main:(0,s.__)("Main","advanced-responsive-video-embedder"),lazyloadAndLightbox:(0,s.__)("Lazyload & Lightbox","advanced-responsive-video-embedder"),lightbox:(0,s.__)("Lightbox","advanced-responsive-video-embedder"),data:(0,s.__)("Data","advanced-responsive-video-embedder"),stickyVideos:(0,s.__)("Sticky Videos","advanced-responsive-video-embedder"),functional:(0,s.__)("Functional","advanced-responsive-video-embedder"),privacy:(0,s.__)("Privacy","advanced-responsive-video-embedder"),misc:(0,s.__)("Misc","advanced-responsive-video-embedder")};return Object.entries(i).forEach(([e,t])=>{var i;t.length>0&&r.push((0,d.jsx)(l.PanelBody,{title:null!==(i=n[e])&&void 0!==i?i:e,initialOpen:"main"===e,children:t},e))}),r}const y=window.React,{registerBlockType:f}=window.wp.blocks;f(t,{edit:function({attributes:e,setAttributes:t}){const{mode:i,align:o,maxwidth:s}=e,{options:l}=window.ArveBlockJsBefore;let c=!0;const p={},u={...e};delete u.align,delete u.maxwidth,!s||"left"!==o&&"right"!==o?"left"!==o&&"right"!==o||(p.width="100%",p.maxWidth=l.align_maxwidth):(p.width="100%",p.maxWidth=s);const v=(0,r.useBlockProps)({style:p});return("normal"===i||!i&&"normal"===l.mode)&&(c=!1),(0,d.jsxs)(d.Fragment,{children:[(0,y.createElement)("div",{...v,key:"block"},(0,d.jsx)(n(),{className:a({"arve-ssr":!0,"arve-ssr--pointer-events-none":!c}),block:"nextgenthemes/arve-block",attributes:u,skipBlockSupportAttributes:!0},"ssr")),(0,d.jsx)(r.InspectorControls,{children:(0,d.jsx)(d.Fragment,{children:_({attributes:e,setAttributes:t})})},"insp")]})},save:()=>null})})();