(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"nextgenthemes/arve-block","title":"Video Embed (ARVE)","category":"embed","icon":"video-alt3","description":"Advanced Responsive Video Embedder","keywords":["embed","youtube","rumble","vimeo","odysee"],"version":"10.8.0","textdomain":"advanced-responsive-video-embedder","supports":{"align":["wide","full","left","right"],"className":true,"customClassName":true},"example":{"attributes":{"url":"https://www.youtube.com/watch?v=oe452WcY7fA","title":"Example ARVE Video"}},"editorScript":"file:./index.js","editorStyle":["file:./index.css","arve","arve-pro","arve-sticky-videos","arve-random-video"],"viewScript":["arve","arve-pro","arve-sticky-videos","arve-random-video"],"viewStyle":["arve","arve-pro","arve-sticky-videos","arve-random-video"],"attributes":{"url":{"type":"string"},"thumbnail":{"type":"string"},"mode":{"type":"string"},"grow":{"type":"string"},"lazyload_style":{"type":"string"},"hover_effect":{"type":"string"},"hide_title":{"type":"string"},"play_icon_style":{"type":"string"},"fullscreen":{"type":"string"},"lightbox_maxwidth":{"type":"integer"},"lightbox_aspect_ratio":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"upload_date":{"type":"string"},"duration":{"type":"string"},"loop":{"type":"boolean"},"muted":{"type":"boolean"},"controls":{"type":"string"},"parameters":{"type":"string"},"controlslist":{"type":"string"},"autoplay":{"type":"string"},"disable_links":{"type":"string"},"credentialless":{"type":"boolean"},"invidious":{"type":"string"},"encrypted_media":{"type":"boolean"},"sticky":{"type":"string"},"sticky_on_mobile":{"type":"string"},"sticky_position":{"type":"string"},"volume":{"type":"integer"},"arve_link":{"type":"string"},"random_video_url":{"type":"string"},"random_video_urls":{"type":"string"},"align":{"type":"string"},"aspect_ratio":{"type":"string"},"thumbnail_url":{"type":"string"}}}'),i=window.wp.blockEditor,r=window.wp.serverSideRender;var o=e.n(r);function n(e){var t,i,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(i=n(e[t]))&&(r&&(r+=" "),r+=i)}else for(i in e)e[i]&&(r&&(r+=" "),r+=i);return r}const a=function(){for(var e,t,i=0,r="",o=arguments.length;i<o;i++)(e=arguments[i])&&(t=n(e))&&(r&&(r+=" "),r+=t);return r},s=window.wp.i18n,l=window.wp.components,d=window.ReactJSXRuntime,c=({className:e,sKey:t,val:r,url:o,help:n,setAttributes:c})=>{const p=(0,d.jsx)("p",{children:(0,s.__)("To edit the featured image, you need permission to upload media.")}),u=a("editor-post-featured-image__container",e),h=e=>{c({[t]:e.id.toString(),[`${t}_url`]:e.url||""})};return(0,d.jsxs)(l.BaseControl,{className:"editor-post-featured-image",help:n,children:[(0,d.jsx)(i.MediaUploadCheck,{fallback:p,children:(0,d.jsx)(i.MediaUpload,{title:(0,s.__)("Thumbnail"),onSelect:h,allowedTypes:["image"],modalClass:"editor-post-featured-image__media-modal",render:({open:e})=>(e=>(0,d.jsxs)("div",{className:u,children:[(0,d.jsx)(l.Button,{className:r?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:e,"aria-label":r?(0,s.__)("Edit or update the image"):void 0,"aria-describedby":r?`editor-post-featured-image-${r}-describedby`:"",children:r&&o?(0,d.jsx)("div",{style:{width:"100%",overflow:"hidden"},children:(0,d.jsx)("img",{src:o,alt:"ARVE Thumbnail",style:{width:"100%",objectFit:"cover",aspectRatio:"16/9"}})}):(0,d.jsx)("span",{children:(0,s.__)("Set Thumbnail")})}),(0,d.jsx)(l.DropZone,{})]}))(e),value:r})}),!!r&&!!o&&(0,d.jsx)(i.MediaUploadCheck,{children:(0,d.jsx)(i.MediaUpload,{title:(0,s.__)("Thumbnail"),onSelect:h,allowedTypes:["image"],modalClass:"editor-post-featured-image__media-modal",render:({open:e})=>(0,d.jsx)(l.Button,{onClick:e,variant:"secondary",children:(0,s.__)("Replace Thumbnail")})})},`${t}-MediaUploadCheck-2`),!!r&&(0,d.jsx)(i.MediaUploadCheck,{children:(0,d.jsx)(l.Button,{onClick:()=>{c({[t]:"",[`${t}_url`]:""})},isDestructive:!0,children:(0,s.__)("Remove Thumbnail")})},`${t}-MediaUploadCheck-3`)]})},p=function({label:e,value:t,onChange:i,onAspectRatioChange:r,placeholder:o,help:n}){return(0,d.jsx)(l.TextControl,{label:e,value:t,onChange:e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector("iframe");if(t?.src){const e=t.getAttribute("src")||"";if(i(e),t.width&&t.height){const e=function(e,t){const i=e=>/^[1-9]\d*$/.test(e);if(!i(e)||!i(t))return;const r=parseInt(e,10),o=parseInt(t,10),n=(e,t)=>0===t?e:n(t,e%t),a=n(r,o);return`${r/a}:${o/a}`}(t.width,t.height);e&&"16:9"!==e&&r(e)}return}i(e)},placeholder:o,help:n,type:"text"})},{settingPageUrl:u,options:h,settings:v}=window.ArveBlockJsBefore,{gutenberg_help:m}=h;function g(e){if(!m||!e)return;if(!e.match(/<a/i))return e;const t=(new DOMParser).parseFromString(e,"text/html"),i=[],r=e=>{if(e.nodeType===Node.TEXT_NODE){const t=e.textContent;null!=t&&i.push(t)}else if(e.nodeType===Node.ELEMENT_NODE){const t=e;if("A"===t.tagName){const e=t,r=e.textContent||"";return void i.push((0,d.jsx)("a",{href:e.href,target:"_blank",rel:"noreferrer",children:r}))}Array.from(t.childNodes).forEach(r)}};return r(t.body),(0,d.jsx)(d.Fragment,{children:i})}function b({attributes:e,setAttributes:t}){const i=[],r={};Object.values(v).forEach(e=>{r[e.category]=[]}),Object.entries(v).forEach(([i,o])=>{const n=e[i],a=e[`${i}_url`]||"",u=o.category||"no-category";var h;if(!function(e,t){if("align"===e)return!0;const i=v[e];return!!i?.depends?.length&&!i.depends.some(e=>{const[i,r]=Object.entries(e)[0]||[];return void 0!==i&&t[i]===r})}(i,e))if(function(e,t){const i=Object.keys(e);return i.length===t.length&&t.every(e=>i.includes(e))}(o.options||{},["","true","false"]))r[u].push((0,d.jsxs)(l.__experimentalToggleGroupControl,{label:o.label,value:n||"",isBlock:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,onChange:e=>t({[i]:e}),help:g(o.description),children:[(0,d.jsx)(l.__experimentalToggleGroupControlOption,{value:"",label:(0,s.__)("Default","advanced-responsive-video-embedder")}),(0,d.jsx)(l.__experimentalToggleGroupControlOption,{value:"true",label:(0,s.__)("True","advanced-responsive-video-embedder")}),(0,d.jsx)(l.__experimentalToggleGroupControlOption,{value:"false",label:(0,s.__)("False","advanced-responsive-video-embedder")})]}));else if("url"===i)r[u].push((0,d.jsx)(p,{label:o.label,value:n||"",onChange:e=>t({[i]:e}),onAspectRatioChange:e=>t({aspect_ratio:e}),placeholder:o.placeholder,help:g(o.description)},i));else if("image_upload"===o.ui)r[u].push((0,d.jsx)(c,{sKey:i,className:`arve-ctl-${o.tab}`,val:n||void 0,url:a,help:g(o.description),setAttributes:t},i));else if("select"===o.ui_element){const e=(h=o.options,Object.entries(h).map(([e,t])=>({label:t,value:e})));r[u].push((0,d.jsx)(l.SelectControl,{className:`arve-ctl-${o.tab}`,label:o.label,value:n,options:e,onChange:e=>t({[i]:e}),help:g(o.description)},i))}else"checkbox"===o.ui_element_type?r[u].push((0,d.jsx)(l.ToggleControl,{className:`arve-ctl-${o.tab}`,label:o.label,checked:Boolean(n),onChange:e=>t({[i]:e}),help:g(o.description)},i)):r[u].push((0,d.jsx)(l.TextControl,{className:`arve-ctl-${o.tab}`,label:o.label,type:o.ui_element_type,value:n||"",placeholder:o.placeholder,onChange:e=>t({[i]:e}),help:g(o.description)},i))}),m&&r.main.push((0,d.jsx)(l.BaseControl,{help:(0,s.sprintf)(/* translators: %s: URL to the settings page */ /* translators: %s: URL to the settings page */
(0,s.__)('Remember changing the defaults is possible on the <a href="%s" target="_blank">Settings page</a>. You can disable the extensive help texts there.',"advanced-responsive-video-embedder"),u),children:(0,d.jsx)(l.BaseControl.VisualLabel,{children:(0,s.__)("Info","advanced-responsive-video-embedder")})},"info-panel"));const o={main:(0,s.__)("Main","advanced-responsive-video-embedder"),lazyloadAndLightbox:(0,s.__)("Lazyload & Lightbox","advanced-responsive-video-embedder"),lightbox:(0,s.__)("Lightbox","advanced-responsive-video-embedder"),data:(0,s.__)("Data","advanced-responsive-video-embedder"),stickyVideos:(0,s.__)("Sticky Videos","advanced-responsive-video-embedder"),functional:(0,s.__)("Functional","advanced-responsive-video-embedder"),privacy:(0,s.__)("Privacy","advanced-responsive-video-embedder"),misc:(0,s.__)("Misc","advanced-responsive-video-embedder")};return Object.entries(r).forEach(([e,t])=>{var r;t.length>0&&i.push((0,d.jsx)(l.PanelBody,{title:null!==(r=o[e])&&void 0!==r?r:e,initialOpen:"main"===e,children:t},e))}),i}const _=window.React,{registerBlockType:y}=window.wp.blocks;y(t,{edit:function({attributes:e,setAttributes:t}){const{mode:r,align:n,maxwidth:s}=e,{options:l}=window.ArveBlockJsBefore;let c=!0;const p={},u={...e};delete u.align,delete u.maxwidth,!s||"left"!==n&&"right"!==n?"left"!==n&&"right"!==n||(p.width="100%",p.maxWidth=l.align_maxwidth):(p.width="100%",p.maxWidth=s);const h=(0,i.useBlockProps)({style:p});return("normal"===r||!r&&"normal"===l.mode)&&(c=!1),(0,d.jsxs)(d.Fragment,{children:[(0,_.createElement)("div",{...h,key:"block"},(0,d.jsx)(o(),{className:a({"arve-ssr":!0,"arve-ssr--pointer-events-none":!c}),block:"nextgenthemes/arve-block",attributes:u,skipBlockSupportAttributes:!0})),(0,d.jsx)(i.InspectorControls,{children:b({attributes:e,setAttributes:t})},"insp")]})},save:()=>null})})();